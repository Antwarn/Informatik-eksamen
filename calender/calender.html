<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lydhavn</title>
  <link rel="stylesheet" href="calender.css">
</head>
<body>
  <header>
    <div id="header">
      <a href="#" class="logo"><img src="../Pictures/logo" alt=""></a>
      <nav>
        <ul>
          <li><a href="../calender/calender.html">Events</a></li>
          <li><a href="../Create-event/create-event.html">Opret event</a></li>
          <li><a href="../Hjem/hjem.php">Log In</a></li>
          <li><a href="#">Sign Up</a></li>
        </ul>
      </nav>
    </div>
  </header>
  
  <nav>
    <ul>
      <li><a href="#" onclick="loadEvents('Lydloftet')">Lydloftet</a></li>
      <li><a href="#" onclick="loadEvents('Harmoni Hallen')">Harmoni Hallen</a></li>
      <li><a href="#" onclick="loadEvents('Lyric Lounge')">Lyric Lounge</a></li>
    </ul>
  </nav>

  <section id="events-section">
    <h2 id="scene-title"></h2>
    <!-- Events will be displayed here -->
  </section>

  <footer>
    <p>&copy; 2024 Lydhavn. Alle rettigheder forbeholdes.</p>
  </footer>

  <script>
    function loadEvents(scene) {
      document.getElementById("scene-title").innerText = scene;
      var xhr = new XMLHttpRequest();
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4) {
          if (xhr.status === 200) {
            try {
              var events = JSON.parse(xhr.responseText);
              var eventsHtml = "";
              if (events.length > 0) {
                events.forEach(function(event) {
                  eventsHtml += "<p><strong>Tid og Dato:</strong> " + event.datetime + "</p>";
                  eventsHtml += "<p><strong>Kunsternavn:</strong> " + event.artist + "</p>";
                  eventsHtml += "<p><strong>Beskrivelse:</strong> " + event.description + "</p>";
                });
              } else {
                eventsHtml = "<p>Ingen events fundet for " + scene + ".</p>";
              }
              document.getElementById("events-section").innerHTML = "<h2>" + scene + "</h2>" + eventsHtml;
            } catch (error) {
              console.error("Error parsing JSON response:", error);
              // Display error message to the user
            }
          } else {
            console.error("Error fetching events. Status:", xhr.status);
            // Display error message to the user
          }
        }
      };
      xhr.open("GET", "get_events.php?scene=" + scene, true);
      xhr.send();
      }

  </script>
</body>
</html>
